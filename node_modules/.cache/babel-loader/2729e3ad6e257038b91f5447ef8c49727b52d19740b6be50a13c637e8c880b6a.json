{"ast":null,"code":"import React from\"react\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const getImageSrc=p=>!p?\"\":/^https?:\\/\\//i.test(p)?p:\"\".concat(process.env.PUBLIC_URL).concat(p.startsWith(\"/\")?p:\"/\".concat(p));// גוזר תקציר מתוך ה-HTML ב-content לפי מספר מילים\nfunction getExcerpt(content){let words=arguments.length>1&&arguments[1]!==undefined?arguments[1]:30;const html=Array.isArray(content)?content.join(\"\"):content||\"\";// ממיר HTML לטקסט רגיל וגם מדמה דקוֹד של ישויות כמו &nbsp;\nconst doc=new DOMParser().parseFromString(html,\"text/html\");const text=(doc.body.textContent||\"\").trim().replace(/\\s+/g,\" \");const tokens=text.split(\" \");return tokens.length>words?tokens.slice(0,words).join(\" \")+\"…\":text;}const Blog=_ref=>{let{blogs=[],excerptWords=20}=_ref;return/*#__PURE__*/_jsx(_Fragment,{children:blogs.map(blog=>/*#__PURE__*/_jsx(\"div\",{className:\"blog\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\\u05D1\\u05DC\\u05D5\\u05D2/\".concat(blog.url,\"/\"),children:[/*#__PURE__*/_jsx(\"h3\",{className:\"blog-title\",children:blog.title}),/*#__PURE__*/_jsx(\"div\",{className:\"img-container\",children:/*#__PURE__*/_jsx(\"img\",{src:getImageSrc(blog.img),alt:blog.title,onError:e=>e.currentTarget.style.display=\"none\"})}),/*#__PURE__*/_jsx(\"p\",{children:blog.short?blog.short:getExcerpt(blog.content,excerptWords)})]})},blog.id))});};export default Blog;","map":{"version":3,"names":["React","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","getImageSrc","p","test","concat","process","env","PUBLIC_URL","startsWith","getExcerpt","content","words","arguments","length","undefined","html","Array","isArray","join","doc","DOMParser","parseFromString","text","body","textContent","trim","replace","tokens","split","slice","Blog","_ref","blogs","excerptWords","children","map","blog","className","to","url","title","src","img","alt","onError","e","currentTarget","style","display","short","id"],"sources":["C:/Users/yulit/skyz-web-react-he/src/components/Blog.js"],"sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst getImageSrc = (p) =>\r\n  !p ? \"\" : /^https?:\\/\\//i.test(p) ? p : `${process.env.PUBLIC_URL}${p.startsWith(\"/\") ? p : `/${p}`}`;\r\n\r\n// גוזר תקציר מתוך ה-HTML ב-content לפי מספר מילים\r\nfunction getExcerpt(content, words = 30) {\r\n  const html = Array.isArray(content) ? content.join(\"\") : (content || \"\");\r\n  // ממיר HTML לטקסט רגיל וגם מדמה דקוֹד של ישויות כמו &nbsp;\r\n  const doc = new DOMParser().parseFromString(html, \"text/html\");\r\n  const text = (doc.body.textContent || \"\").trim().replace(/\\s+/g, \" \");\r\n  const tokens = text.split(\" \");\r\n  return tokens.length > words ? tokens.slice(0, words).join(\" \") + \"…\" : text;\r\n}\r\n\r\nconst Blog = ({ blogs = [], excerptWords = 20 }) => {\r\n  return (\r\n    <>\r\n      {blogs.map((blog) => (\r\n        <div className=\"blog\" key={blog.id}>\r\n          <Link to={`/בלוג/${blog.url}/`}>\r\n            <h3 className=\"blog-title\">{blog.title}</h3>\r\n            <div className=\"img-container\">\r\n              <img\r\n                src={getImageSrc(blog.img)}\r\n                alt={blog.title}\r\n                onError={(e) => (e.currentTarget.style.display = \"none\")}\r\n              />\r\n            </div>\r\n            {/* אם יש short נשתמש בו; אחרת נגזור מתוך content */}\r\n            <p>{blog.short ? blog.short : getExcerpt(blog.content, excerptWords)}</p>\r\n          </Link>\r\n        </div>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Blog;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAExC,KAAM,CAAAC,WAAW,CAAIC,CAAC,EACpB,CAACA,CAAC,CAAG,EAAE,CAAG,eAAe,CAACC,IAAI,CAACD,CAAC,CAAC,CAAGA,CAAC,IAAAE,MAAA,CAAMC,OAAO,CAACC,GAAG,CAACC,UAAU,EAAAH,MAAA,CAAGF,CAAC,CAACM,UAAU,CAAC,GAAG,CAAC,CAAGN,CAAC,KAAAE,MAAA,CAAOF,CAAC,CAAE,CAAE,CAEvG;AACA,QAAS,CAAAO,UAAUA,CAACC,OAAO,CAAc,IAAZ,CAAAC,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,CACrC,KAAM,CAAAG,IAAI,CAAGC,KAAK,CAACC,OAAO,CAACP,OAAO,CAAC,CAAGA,OAAO,CAACQ,IAAI,CAAC,EAAE,CAAC,CAAIR,OAAO,EAAI,EAAG,CACxE;AACA,KAAM,CAAAS,GAAG,CAAG,GAAI,CAAAC,SAAS,CAAC,CAAC,CAACC,eAAe,CAACN,IAAI,CAAE,WAAW,CAAC,CAC9D,KAAM,CAAAO,IAAI,CAAG,CAACH,GAAG,CAACI,IAAI,CAACC,WAAW,EAAI,EAAE,EAAEC,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,MAAM,CAAE,GAAG,CAAC,CACrE,KAAM,CAAAC,MAAM,CAAGL,IAAI,CAACM,KAAK,CAAC,GAAG,CAAC,CAC9B,MAAO,CAAAD,MAAM,CAACd,MAAM,CAAGF,KAAK,CAAGgB,MAAM,CAACE,KAAK,CAAC,CAAC,CAAElB,KAAK,CAAC,CAACO,IAAI,CAAC,GAAG,CAAC,CAAG,GAAG,CAAGI,IAAI,CAC9E,CAEA,KAAM,CAAAQ,IAAI,CAAGC,IAAA,EAAuC,IAAtC,CAAEC,KAAK,CAAG,EAAE,CAAEC,YAAY,CAAG,EAAG,CAAC,CAAAF,IAAA,CAC7C,mBACEnC,IAAA,CAAAI,SAAA,EAAAkC,QAAA,CACGF,KAAK,CAACG,GAAG,CAAEC,IAAI,eACdxC,IAAA,QAAKyC,SAAS,CAAC,MAAM,CAAAH,QAAA,cACnBpC,KAAA,CAACJ,IAAI,EAAC4C,EAAE,8BAAAlC,MAAA,CAAWgC,IAAI,CAACG,GAAG,KAAI,CAAAL,QAAA,eAC7BtC,IAAA,OAAIyC,SAAS,CAAC,YAAY,CAAAH,QAAA,CAAEE,IAAI,CAACI,KAAK,CAAK,CAAC,cAC5C5C,IAAA,QAAKyC,SAAS,CAAC,eAAe,CAAAH,QAAA,cAC5BtC,IAAA,QACE6C,GAAG,CAAExC,WAAW,CAACmC,IAAI,CAACM,GAAG,CAAE,CAC3BC,GAAG,CAAEP,IAAI,CAACI,KAAM,CAChBI,OAAO,CAAGC,CAAC,EAAMA,CAAC,CAACC,aAAa,CAACC,KAAK,CAACC,OAAO,CAAG,MAAQ,CAC1D,CAAC,CACC,CAAC,cAENpD,IAAA,MAAAsC,QAAA,CAAIE,IAAI,CAACa,KAAK,CAAGb,IAAI,CAACa,KAAK,CAAGxC,UAAU,CAAC2B,IAAI,CAAC1B,OAAO,CAAEuB,YAAY,CAAC,CAAI,CAAC,EACrE,CAAC,EAZkBG,IAAI,CAACc,EAa3B,CACN,CAAC,CACF,CAAC,CAEP,CAAC,CAED,cAAe,CAAApB,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}