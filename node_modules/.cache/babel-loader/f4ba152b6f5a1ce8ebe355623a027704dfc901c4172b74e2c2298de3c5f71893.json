{"ast":null,"code":"import { Touch, EventHandler, remove, addClass, createElement, closest } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport * as cls from '../base/css-constant';\n/**\n * Kanban touch module\n */\nvar KanbanTouch = /** @class */function () {\n  /**\n   * Constructor for touch module\n   *\n   * @param {Kanban} parent Accepts the kanban instance\n   * @private\n   */\n  function KanbanTouch(parent) {\n    this.parent = parent;\n    this.tabHold = false;\n  }\n  KanbanTouch.prototype.wireTouchEvents = function () {\n    this.element = this.parent.element.querySelector('.' + cls.CONTENT_CLASS);\n    this.touchObj = new Touch(this.element, {\n      tapHold: this.tapHoldHandler.bind(this)\n    });\n  };\n  KanbanTouch.prototype.tapHoldHandler = function (e) {\n    this.tabHold = true;\n    var target = closest(e.originalEvent.target, '.' + cls.CARD_CLASS);\n    if (target && this.parent.cardSettings.selectionType === 'Multiple') {\n      this.parent.actionModule.cardSelection(target, true, false);\n      if (!this.mobilePopup) {\n        this.renderMobilePopup();\n        this.mobilePopup.show();\n      }\n      this.updatePopupContent();\n    }\n  };\n  KanbanTouch.prototype.renderMobilePopup = function () {\n    if (this.parent.cardSettings.selectionType === 'Multiple') {\n      var mobilePopupWrapper = createElement('div', {\n        className: cls.POPUP_WRAPPER_CLASS + ' e-popup-close',\n        innerHTML: \"<div class=\\\"\" + cls.POPUP_HEADER_CLASS + \"\\\"><button class=\\\"\" + cls.CLOSE_CLASS + \"\\\"></button></div>\" + (\"<div class=\\\"\" + cls.POPUP_CONTENT_CLASS + \"\\\"></div>\")\n      });\n      document.body.appendChild(mobilePopupWrapper);\n      addClass([mobilePopupWrapper], cls.DEVICE_CLASS);\n      this.mobilePopup = new Popup(mobilePopupWrapper, {\n        targetType: 'container',\n        enableRtl: this.parent.enableRtl,\n        hideAnimation: {\n          name: 'ZoomOut'\n        },\n        showAnimation: {\n          name: 'ZoomIn'\n        },\n        collision: {\n          X: 'fit',\n          Y: 'fit'\n        },\n        position: {\n          X: 'left',\n          Y: 'top'\n        },\n        viewPortElement: document.body,\n        zIndex: 1004,\n        close: this.popupClose.bind(this)\n      });\n      var closeIcon = this.mobilePopup.element.querySelector('.' + cls.CLOSE_CLASS);\n      var buttonObj = new Button({\n        cssClass: 'e-flat e-round e-small',\n        enableRtl: this.parent.enableRtl,\n        iconCss: cls.ICON_CLASS + ' ' + cls.CLOSE_ICON_CLASS\n      });\n      buttonObj.appendTo(closeIcon);\n      buttonObj.isStringTemplate = true;\n      EventHandler.add(closeIcon, 'click', this.closeClick, this);\n    }\n  };\n  KanbanTouch.prototype.getPopupContent = function () {\n    var popupContent;\n    var selectedCards = this.parent.getSelectedCards();\n    if (selectedCards.length > 1) {\n      popupContent = '(' + selectedCards.length + ') ' + this.parent.localeObj.getConstant('cardsSelected');\n    } else if (selectedCards.length === 1) {\n      popupContent = ' ' + this.parent.getCardDetails(selectedCards[0])[this.parent.cardSettings.headerField];\n    }\n    return popupContent;\n  };\n  KanbanTouch.prototype.updatePopupContent = function () {\n    if (!this.mobilePopup) {\n      return;\n    }\n    var popupContent = this.getPopupContent();\n    if (popupContent) {\n      this.mobilePopup.element.querySelector('.' + cls.POPUP_CONTENT_CLASS).textContent = popupContent;\n    } else {\n      this.mobilePopup.hide();\n    }\n  };\n  KanbanTouch.prototype.closeClick = function () {\n    this.parent.touchModule.mobilePopup.hide();\n  };\n  KanbanTouch.prototype.popupClose = function () {\n    this.popupDestroy();\n  };\n  KanbanTouch.prototype.popupDestroy = function () {\n    if (this.mobilePopup && this.mobilePopup.element) {\n      var instance = this.mobilePopup.element.querySelector('.e-control.e-btn').ej2_instances[0];\n      if (instance) {\n        instance.destroy();\n      }\n      this.mobilePopup.destroy();\n      remove(this.mobilePopup.element);\n      this.mobilePopup = null;\n    }\n  };\n  KanbanTouch.prototype.unWireTouchEvents = function () {\n    if (this.touchObj) {\n      this.touchObj.destroy();\n    }\n    this.touchObj = null;\n    this.element = null;\n  };\n  KanbanTouch.prototype.destroy = function () {\n    this.popupDestroy();\n    this.unWireTouchEvents();\n    this.tabHold = false;\n  };\n  return KanbanTouch;\n}();\nexport { KanbanTouch };","map":{"version":3,"names":["Touch","EventHandler","remove","addClass","createElement","closest","Popup","Button","cls","KanbanTouch","parent","tabHold","prototype","wireTouchEvents","element","querySelector","CONTENT_CLASS","touchObj","tapHold","tapHoldHandler","bind","e","target","originalEvent","CARD_CLASS","cardSettings","selectionType","actionModule","cardSelection","mobilePopup","renderMobilePopup","show","updatePopupContent","mobilePopupWrapper","className","POPUP_WRAPPER_CLASS","innerHTML","POPUP_HEADER_CLASS","CLOSE_CLASS","POPUP_CONTENT_CLASS","document","body","appendChild","DEVICE_CLASS","targetType","enableRtl","hideAnimation","name","showAnimation","collision","X","Y","position","viewPortElement","zIndex","close","popupClose","closeIcon","buttonObj","cssClass","iconCss","ICON_CLASS","CLOSE_ICON_CLASS","appendTo","isStringTemplate","add","closeClick","getPopupContent","popupContent","selectedCards","getSelectedCards","length","localeObj","getConstant","getCardDetails","headerField","textContent","hide","touchModule","popupDestroy","instance","ej2_instances","destroy","unWireTouchEvents"],"sources":["C:/skyz-web-react-he/node_modules/@syncfusion/ej2-kanban/src/kanban/actions/touch.js"],"sourcesContent":["import { Touch, EventHandler, remove, addClass, createElement, closest } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport * as cls from '../base/css-constant';\n/**\n * Kanban touch module\n */\nvar KanbanTouch = /** @class */ (function () {\n    /**\n     * Constructor for touch module\n     *\n     * @param {Kanban} parent Accepts the kanban instance\n     * @private\n     */\n    function KanbanTouch(parent) {\n        this.parent = parent;\n        this.tabHold = false;\n    }\n    KanbanTouch.prototype.wireTouchEvents = function () {\n        this.element = this.parent.element.querySelector('.' + cls.CONTENT_CLASS);\n        this.touchObj = new Touch(this.element, { tapHold: this.tapHoldHandler.bind(this) });\n    };\n    KanbanTouch.prototype.tapHoldHandler = function (e) {\n        this.tabHold = true;\n        var target = closest(e.originalEvent.target, '.' + cls.CARD_CLASS);\n        if (target && this.parent.cardSettings.selectionType === 'Multiple') {\n            this.parent.actionModule.cardSelection(target, true, false);\n            if (!this.mobilePopup) {\n                this.renderMobilePopup();\n                this.mobilePopup.show();\n            }\n            this.updatePopupContent();\n        }\n    };\n    KanbanTouch.prototype.renderMobilePopup = function () {\n        if (this.parent.cardSettings.selectionType === 'Multiple') {\n            var mobilePopupWrapper = createElement('div', {\n                className: cls.POPUP_WRAPPER_CLASS + ' e-popup-close',\n                innerHTML: \"<div class=\\\"\" + cls.POPUP_HEADER_CLASS + \"\\\"><button class=\\\"\" + cls.CLOSE_CLASS + \"\\\"></button></div>\" +\n                    (\"<div class=\\\"\" + cls.POPUP_CONTENT_CLASS + \"\\\"></div>\")\n            });\n            document.body.appendChild(mobilePopupWrapper);\n            addClass([mobilePopupWrapper], cls.DEVICE_CLASS);\n            this.mobilePopup = new Popup(mobilePopupWrapper, {\n                targetType: 'container',\n                enableRtl: this.parent.enableRtl,\n                hideAnimation: { name: 'ZoomOut' },\n                showAnimation: { name: 'ZoomIn' },\n                collision: { X: 'fit', Y: 'fit' },\n                position: { X: 'left', Y: 'top' },\n                viewPortElement: document.body,\n                zIndex: 1004,\n                close: this.popupClose.bind(this)\n            });\n            var closeIcon = this.mobilePopup.element.querySelector('.' + cls.CLOSE_CLASS);\n            var buttonObj = new Button({\n                cssClass: 'e-flat e-round e-small',\n                enableRtl: this.parent.enableRtl,\n                iconCss: cls.ICON_CLASS + ' ' + cls.CLOSE_ICON_CLASS\n            });\n            buttonObj.appendTo(closeIcon);\n            buttonObj.isStringTemplate = true;\n            EventHandler.add(closeIcon, 'click', this.closeClick, this);\n        }\n    };\n    KanbanTouch.prototype.getPopupContent = function () {\n        var popupContent;\n        var selectedCards = this.parent.getSelectedCards();\n        if (selectedCards.length > 1) {\n            popupContent = '(' + selectedCards.length + ') ' + this.parent.localeObj.getConstant('cardsSelected');\n        }\n        else if (selectedCards.length === 1) {\n            popupContent = ' ' + this.parent.getCardDetails(selectedCards[0])[this.parent.cardSettings.headerField];\n        }\n        return popupContent;\n    };\n    KanbanTouch.prototype.updatePopupContent = function () {\n        if (!this.mobilePopup) {\n            return;\n        }\n        var popupContent = this.getPopupContent();\n        if (popupContent) {\n            this.mobilePopup.element.querySelector('.' + cls.POPUP_CONTENT_CLASS).textContent = popupContent;\n        }\n        else {\n            this.mobilePopup.hide();\n        }\n    };\n    KanbanTouch.prototype.closeClick = function () {\n        this.parent.touchModule.mobilePopup.hide();\n    };\n    KanbanTouch.prototype.popupClose = function () {\n        this.popupDestroy();\n    };\n    KanbanTouch.prototype.popupDestroy = function () {\n        if (this.mobilePopup && this.mobilePopup.element) {\n            var instance = this.mobilePopup.element.querySelector('.e-control.e-btn').ej2_instances[0];\n            if (instance) {\n                instance.destroy();\n            }\n            this.mobilePopup.destroy();\n            remove(this.mobilePopup.element);\n            this.mobilePopup = null;\n        }\n    };\n    KanbanTouch.prototype.unWireTouchEvents = function () {\n        if (this.touchObj) {\n            this.touchObj.destroy();\n        }\n        this.touchObj = null;\n        this.element = null;\n    };\n    KanbanTouch.prototype.destroy = function () {\n        this.popupDestroy();\n        this.unWireTouchEvents();\n        this.tabHold = false;\n    };\n    return KanbanTouch;\n}());\nexport { KanbanTouch };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}