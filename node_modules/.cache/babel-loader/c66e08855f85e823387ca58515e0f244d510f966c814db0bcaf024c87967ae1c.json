{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yulit\\\\skyz-web-react-he\\\\src\\\\components\\\\BlogPost.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { Helmet } from \"react-helmet-async\";\nimport { useTranslation } from \"react-i18next\";\nimport \"../assets/scss/_blogs.scss\";\nimport \"../assets/scss/base.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getImageSrc = p => !p ? \"\" : /^https?:\\/\\//i.test(p) ? p : `${process.env.PUBLIC_URL}${p.startsWith(\"/\") ? p : `/${p}`}`;\nconst BlogPost = () => {\n  _s();\n  const {\n    slug\n  } = useParams();\n  const {\n    t,\n    i18n\n  } = useTranslation();\n  const [posts, setPosts] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  // טוען את קובץ ה־JSON לפי שפה\n  useEffect(() => {\n    var _i18n$language;\n    setLoading(true);\n    const lng = (_i18n$language = i18n.language) !== null && _i18n$language !== void 0 && _i18n$language.startsWith(\"he\") ? \"he\" : \"en\";\n    import(`../data/blogs.${lng}.json`).then(m => {\n      var _m$default$blogs, _m$default;\n      const raw = (_m$default$blogs = (_m$default = m.default) === null || _m$default === void 0 ? void 0 : _m$default.blogs) !== null && _m$default$blogs !== void 0 ? _m$default$blogs : [];\n      const arr = Array.isArray(raw) ? raw : Object.values(raw);\n      const norm = arr.map(b => ({\n        ...b,\n        content: Array.isArray(b.content) ? b.content.join(\"\") : b.content || \"\"\n      }));\n      setPosts(norm);\n    }).finally(() => setLoading(false));\n    window.scrollTo(0, 0);\n  }, [i18n.language]);\n  const post = useMemo(() => posts.find(p => p.url === slug), [posts, slug]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"blog-post\",\n    dir: \"rtl\",\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: t(\"loading\", \"טוען...\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 64\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 23\n  }, this);\n  if (!post) {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"blog-post\",\n      dir: \"rtl\",\n      children: [/*#__PURE__*/_jsxDEV(Helmet, {\n        children: /*#__PURE__*/_jsxDEV(\"title\", {\n          children: [\"SkyzCRM | \", t(\"not-found\", \"הפוסט לא נמצא\")]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: t(\"not-found\", \"הפוסט לא נמצא\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/blog\",\n        children: t(\"back-to-blog\", \"← חזרה לבלוג\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"blog-post\",\n    dir: \"rtl\",\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: [post.title, \" | SkyzCRM\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"description\",\n        content: post.short || t(\"blog-p\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n        rel: \"canonical\",\n        href: `/blog/${post.url}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"post-title\",\n        children: post.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), post.img && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post-hero\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: getImageSrc(post.img),\n          alt: post.title,\n          onError: e => e.currentTarget.style.display = \"none\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post-content\",\n        dangerouslySetInnerHTML: {\n          __html: post.content\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"post-nav\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/blog\",\n        className: \"back-link\",\n        children: t(\"back-to-blog\", \"← חזרה לכל הפוסטים\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(BlogPost, \"PWmDc8U2zfismGKIaIDoS4X7qOw=\", false, function () {\n  return [useParams, useTranslation];\n});\n_c = BlogPost;\nexport default BlogPost;\nvar _c;\n$RefreshReg$(_c, \"BlogPost\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","useParams","Link","Helmet","useTranslation","jsxDEV","_jsxDEV","getImageSrc","p","test","process","env","PUBLIC_URL","startsWith","BlogPost","_s","slug","t","i18n","posts","setPosts","loading","setLoading","_i18n$language","lng","language","then","m","_m$default$blogs","_m$default","raw","default","blogs","arr","Array","isArray","Object","values","norm","map","b","content","join","finally","window","scrollTo","post","find","url","className","dir","children","fileName","_jsxFileName","lineNumber","columnNumber","to","title","name","short","rel","href","img","src","alt","onError","e","currentTarget","style","display","dangerouslySetInnerHTML","__html","_c","$RefreshReg$"],"sources":["C:/Users/yulit/skyz-web-react-he/src/components/BlogPost.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport \"../assets/scss/_blogs.scss\";\r\nimport \"../assets/scss/base.scss\";\r\n\r\nconst getImageSrc = (p) =>\r\n  !p\r\n    ? \"\"\r\n    : /^https?:\\/\\//i.test(p)\r\n    ? p\r\n    : `${process.env.PUBLIC_URL}${p.startsWith(\"/\") ? p : `/${p}`}`;\r\n\r\nconst BlogPost = () => {\r\n  const { slug } = useParams();\r\n  const { t, i18n } = useTranslation();\r\n  const [posts, setPosts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // טוען את קובץ ה־JSON לפי שפה\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const lng = i18n.language?.startsWith(\"he\") ? \"he\" : \"en\";\r\n    import(`../data/blogs.${lng}.json`)\r\n      .then((m) => {\r\n        const raw = m.default?.blogs ?? [];\r\n        const arr = Array.isArray(raw) ? raw : Object.values(raw);\r\n        const norm = arr.map((b) => ({\r\n          ...b,\r\n          content: Array.isArray(b.content) ? b.content.join(\"\") : (b.content || \"\"),\r\n        }));\r\n        setPosts(norm);\r\n      })\r\n      .finally(() => setLoading(false));\r\n    window.scrollTo(0, 0);\r\n  }, [i18n.language]);\r\n\r\n  const post = useMemo(\r\n    () => posts.find((p) => p.url === slug),\r\n    [posts, slug]\r\n  );\r\n\r\n  if (loading) return <section className=\"blog-post\" dir=\"rtl\"><p>{t(\"loading\",\"טוען...\")}</p></section>;\r\n\r\n  if (!post) {\r\n    return (\r\n      <section className=\"blog-post\" dir=\"rtl\">\r\n        <Helmet><title>SkyzCRM | {t(\"not-found\",\"הפוסט לא נמצא\")}</title></Helmet>\r\n        <h1>{t(\"not-found\",\"הפוסט לא נמצא\")}</h1>\r\n        <Link to=\"/blog\">{t(\"back-to-blog\",\"← חזרה לבלוג\")}</Link>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <section className=\"blog-post\" dir=\"rtl\">\r\n      <Helmet>\r\n        <title>{post.title} | SkyzCRM</title>\r\n        <meta name=\"description\" content={post.short || t(\"blog-p\")} />\r\n        <link rel=\"canonical\" href={`/blog/${post.url}`} />\r\n      </Helmet>\r\n\r\n      <article>\r\n        <h1 className=\"post-title\">{post.title}</h1>\r\n        {post.img && (\r\n          <div className=\"post-hero\">\r\n            <img\r\n              src={getImageSrc(post.img)}\r\n              alt={post.title}\r\n              onError={(e) => (e.currentTarget.style.display = \"none\")}\r\n            />\r\n          </div>\r\n        )}\r\n        {/* התוכן מגיע כ־HTML מתוך ה־JSON */}\r\n        <div\r\n          className=\"post-content\"\r\n          dangerouslySetInnerHTML={{ __html: post.content }}\r\n        />\r\n      </article>\r\n\r\n      <nav className=\"post-nav\">\r\n        <Link to=\"/blog\" className=\"back-link\">\r\n          {t(\"back-to-blog\",\"← חזרה לכל הפוסטים\")}\r\n        </Link>\r\n      </nav>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default BlogPost;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,OAAO,EAAEC,QAAQ,QAAQ,OAAO;AAC3D,SAASC,SAAS,EAAEC,IAAI,QAAQ,kBAAkB;AAClD,SAASC,MAAM,QAAQ,oBAAoB;AAC3C,SAASC,cAAc,QAAQ,eAAe;AAC9C,OAAO,4BAA4B;AACnC,OAAO,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElC,MAAMC,WAAW,GAAIC,CAAC,IACpB,CAACA,CAAC,GACE,EAAE,GACF,eAAe,CAACC,IAAI,CAACD,CAAC,CAAC,GACvBA,CAAC,GACA,GAAEE,OAAO,CAACC,GAAG,CAACC,UAAW,GAAEJ,CAAC,CAACK,UAAU,CAAC,GAAG,CAAC,GAAGL,CAAC,GAAI,IAAGA,CAAE,EAAE,EAAC;AAEnE,MAAMM,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrB,MAAM;IAAEC;EAAK,CAAC,GAAGf,SAAS,CAAC,CAAC;EAC5B,MAAM;IAAEgB,CAAC;IAAEC;EAAK,CAAC,GAAGd,cAAc,CAAC,CAAC;EACpC,MAAM,CAACe,KAAK,EAAEC,QAAQ,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACqB,OAAO,EAAEC,UAAU,CAAC,GAAGtB,QAAQ,CAAC,IAAI,CAAC;;EAE5C;EACAF,SAAS,CAAC,MAAM;IAAA,IAAAyB,cAAA;IACdD,UAAU,CAAC,IAAI,CAAC;IAChB,MAAME,GAAG,GAAG,CAAAD,cAAA,GAAAL,IAAI,CAACO,QAAQ,cAAAF,cAAA,eAAbA,cAAA,CAAeV,UAAU,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG,IAAI;IACzD,MAAM,CAAE,iBAAgBW,GAAI,OAAM,CAAC,CAChCE,IAAI,CAAEC,CAAC,IAAK;MAAA,IAAAC,gBAAA,EAAAC,UAAA;MACX,MAAMC,GAAG,IAAAF,gBAAA,IAAAC,UAAA,GAAGF,CAAC,CAACI,OAAO,cAAAF,UAAA,uBAATA,UAAA,CAAWG,KAAK,cAAAJ,gBAAA,cAAAA,gBAAA,GAAI,EAAE;MAClC,MAAMK,GAAG,GAAGC,KAAK,CAACC,OAAO,CAACL,GAAG,CAAC,GAAGA,GAAG,GAAGM,MAAM,CAACC,MAAM,CAACP,GAAG,CAAC;MACzD,MAAMQ,IAAI,GAAGL,GAAG,CAACM,GAAG,CAAEC,CAAC,KAAM;QAC3B,GAAGA,CAAC;QACJC,OAAO,EAAEP,KAAK,CAACC,OAAO,CAACK,CAAC,CAACC,OAAO,CAAC,GAAGD,CAAC,CAACC,OAAO,CAACC,IAAI,CAAC,EAAE,CAAC,GAAIF,CAAC,CAACC,OAAO,IAAI;MACzE,CAAC,CAAC,CAAC;MACHrB,QAAQ,CAACkB,IAAI,CAAC;IAChB,CAAC,CAAC,CACDK,OAAO,CAAC,MAAMrB,UAAU,CAAC,KAAK,CAAC,CAAC;IACnCsB,MAAM,CAACC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;EACvB,CAAC,EAAE,CAAC3B,IAAI,CAACO,QAAQ,CAAC,CAAC;EAEnB,MAAMqB,IAAI,GAAG/C,OAAO,CAClB,MAAMoB,KAAK,CAAC4B,IAAI,CAAEvC,CAAC,IAAKA,CAAC,CAACwC,GAAG,KAAKhC,IAAI,CAAC,EACvC,CAACG,KAAK,EAAEH,IAAI,CACd,CAAC;EAED,IAAIK,OAAO,EAAE,oBAAOf,OAAA;IAAS2C,SAAS,EAAC,WAAW;IAACC,GAAG,EAAC,KAAK;IAAAC,QAAA,eAAC7C,OAAA;MAAA6C,QAAA,EAAIlC,CAAC,CAAC,SAAS,EAAC,SAAS;IAAC;MAAAmC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAS,CAAC;EAEtG,IAAI,CAACT,IAAI,EAAE;IACT,oBACExC,OAAA;MAAS2C,SAAS,EAAC,WAAW;MAACC,GAAG,EAAC,KAAK;MAAAC,QAAA,gBACtC7C,OAAA,CAACH,MAAM;QAAAgD,QAAA,eAAC7C,OAAA;UAAA6C,QAAA,GAAO,YAAU,EAAClC,CAAC,CAAC,WAAW,EAAC,eAAe,CAAC;QAAA;UAAAmC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAC1EjD,OAAA;QAAA6C,QAAA,EAAKlC,CAAC,CAAC,WAAW,EAAC,eAAe;MAAC;QAAAmC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACzCjD,OAAA,CAACJ,IAAI;QAACsD,EAAE,EAAC,OAAO;QAAAL,QAAA,EAAElC,CAAC,CAAC,cAAc,EAAC,cAAc;MAAC;QAAAmC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnD,CAAC;EAEd;EAEA,oBACEjD,OAAA;IAAS2C,SAAS,EAAC,WAAW;IAACC,GAAG,EAAC,KAAK;IAAAC,QAAA,gBACtC7C,OAAA,CAACH,MAAM;MAAAgD,QAAA,gBACL7C,OAAA;QAAA6C,QAAA,GAAQL,IAAI,CAACW,KAAK,EAAC,YAAU;MAAA;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACrCjD,OAAA;QAAMoD,IAAI,EAAC,aAAa;QAACjB,OAAO,EAAEK,IAAI,CAACa,KAAK,IAAI1C,CAAC,CAAC,QAAQ;MAAE;QAAAmC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAC/DjD,OAAA;QAAMsD,GAAG,EAAC,WAAW;QAACC,IAAI,EAAG,SAAQf,IAAI,CAACE,GAAI;MAAE;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7C,CAAC,eAETjD,OAAA;MAAA6C,QAAA,gBACE7C,OAAA;QAAI2C,SAAS,EAAC,YAAY;QAAAE,QAAA,EAAEL,IAAI,CAACW;MAAK;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,EAC3CT,IAAI,CAACgB,GAAG,iBACPxD,OAAA;QAAK2C,SAAS,EAAC,WAAW;QAAAE,QAAA,eACxB7C,OAAA;UACEyD,GAAG,EAAExD,WAAW,CAACuC,IAAI,CAACgB,GAAG,CAAE;UAC3BE,GAAG,EAAElB,IAAI,CAACW,KAAM;UAChBQ,OAAO,EAAGC,CAAC,IAAMA,CAAC,CAACC,aAAa,CAACC,KAAK,CAACC,OAAO,GAAG;QAAQ;UAAAjB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1D;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CACN,eAEDjD,OAAA;QACE2C,SAAS,EAAC,cAAc;QACxBqB,uBAAuB,EAAE;UAAEC,MAAM,EAAEzB,IAAI,CAACL;QAAQ;MAAE;QAAAW,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnD,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACK,CAAC,eAEVjD,OAAA;MAAK2C,SAAS,EAAC,UAAU;MAAAE,QAAA,eACvB7C,OAAA,CAACJ,IAAI;QAACsD,EAAE,EAAC,OAAO;QAACP,SAAS,EAAC,WAAW;QAAAE,QAAA,EACnClC,CAAC,CAAC,cAAc,EAAC,oBAAoB;MAAC;QAAAmC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEd,CAAC;AAACxC,EAAA,CA1EID,QAAQ;EAAA,QACKb,SAAS,EACNG,cAAc;AAAA;AAAAoE,EAAA,GAF9B1D,QAAQ;AA4Ed,eAAeA,QAAQ;AAAC,IAAA0D,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}