{"ast":null,"code":"/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { KeyboardEvents, addClass, removeClass, closest } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constant';\n/**\n * Kanban keyboard module\n */\nvar Keyboard = /** @class */function () {\n  /**\n   * Constructor for keyboard module\n   *\n   * @param {Kanban} parent Accepts the kanban instance\n   */\n  function Keyboard(parent) {\n    this.keyConfigs = {\n      firstCardSelection: '36',\n      lastCardSelection: '35',\n      upArrow: '38',\n      downArrow: '40',\n      rightArrow: '39',\n      leftArrow: '37',\n      multiSelectionEnter: 'ctrl+13',\n      multiSelectionSpace: 'ctrl+32',\n      multiSelectionByUpArrow: 'shift+38',\n      multiSelectionByDownArrow: 'shift+40',\n      shiftTab: 'shift+tab',\n      enter: '13',\n      tab: 'tab',\n      delete: '46',\n      escape: '27',\n      space: '32'\n    };\n    this.parent = parent;\n    this.parent.element.tabIndex = this.parent.element.tabIndex === -1 ? 0 : this.parent.element.tabIndex;\n    this.keyboardModule = new KeyboardEvents(this.parent.element, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n    this.multiSelection = false;\n  }\n  Keyboard.prototype.keyActionHandler = function (e) {\n    var _this = this;\n    var selectedCard = this.parent.element.querySelectorAll(\".\" + cls.CARD_CLASS + \".\" + cls.CARD_SELECTION_CLASS).item(0);\n    if (!selectedCard && !closest(document.activeElement, \".\" + cls.ROOT_CLASS)) {\n      return;\n    }\n    var contentCell;\n    var selectedCards;\n    var selectedCardsData = [];\n    switch (e.action) {\n      case 'upArrow':\n      case 'downArrow':\n      case 'multiSelectionByUpArrow':\n      case 'multiSelectionByDownArrow':\n        e.preventDefault();\n        this.processUpDownArrow(e.action, selectedCard);\n        break;\n      case 'rightArrow':\n      case 'leftArrow':\n        this.processLeftRightArrow(e);\n        break;\n      case 'firstCardSelection':\n      case 'lastCardSelection':\n        this.processCardSelection(e.action, selectedCard);\n        break;\n      case 'multiSelectionEnter':\n      case 'multiSelectionSpace':\n        if (document.activeElement) {\n          this.parent.actionModule.cardSelection(document.activeElement, true, false);\n        }\n        break;\n      case 'space':\n      case 'enter':\n        this.processEnter(e, selectedCard);\n        break;\n      case 'escape':\n        if (document.activeElement.classList.contains(cls.CARD_CLASS) || document.activeElement.classList.contains(cls.SHOW_ADD_BUTTON)) {\n          if (document.activeElement.classList.contains(cls.CARD_SELECTION_CLASS)) {\n            removeClass([document.activeElement], cls.CARD_SELECTION_CLASS);\n            document.activeElement.focus();\n          } else {\n            var ele = closest(document.activeElement, '.' + cls.CONTENT_CELLS_CLASS);\n            var cards = [].slice.call(ele.querySelectorAll('.' + cls.CARD_CLASS));\n            removeClass(cards, cls.CARD_SELECTION_CLASS);\n            ele.focus();\n            this.cardTabIndexRemove();\n            this.addRemoveTabIndex('Add');\n          }\n        }\n        break;\n      case 'tab':\n      case 'shiftTab':\n        contentCell = closest(document.activeElement, '.' + cls.CONTENT_CELLS_CLASS);\n        if (document.activeElement.classList.contains(cls.CARD_CLASS)) {\n          if (!document.activeElement.nextElementSibling && e.action === 'tab') {\n            e.preventDefault();\n          }\n          if (!document.activeElement.previousElementSibling && contentCell.querySelector('.' + cls.SHOW_ADD_BUTTON) && e.action === 'tab') {\n            addClass([contentCell.querySelector('.' + cls.SHOW_ADD_BUTTON)], cls.SHOW_ADD_FOCUS);\n          }\n        }\n        if (document.activeElement.classList.contains(cls.SHOW_ADD_BUTTON)) {\n          if (!contentCell.querySelector('.' + cls.CARD_CLASS) && e.action === 'tab' || e.action === 'shiftTab') {\n            e.preventDefault();\n          }\n        }\n        if (document.activeElement.classList.contains(cls.ROOT_CLASS)) {\n          this.cardTabIndexRemove();\n          this.parent.keyboardModule.addRemoveTabIndex('Add');\n        }\n        break;\n      case 'delete':\n        selectedCards = [].slice.call(this.parent.element.querySelectorAll(\".\" + cls.CARD_CLASS + \".\" + cls.CARD_SELECTION_CLASS));\n        selectedCards.forEach(function (selected) {\n          selectedCardsData.push(_this.parent.getCardDetails(selected));\n        });\n        this.parent.crudModule.deleteCard(selectedCardsData);\n        break;\n    }\n  };\n  Keyboard.prototype.processCardSelection = function (action, selectedCard) {\n    if (selectedCard) {\n      removeClass([selectedCard], cls.CARD_SELECTION_CLASS);\n      this.parent.layoutModule.disableAttributeSelection(selectedCard);\n      var selection = this.parent.actionModule.selectionArray;\n      selection.splice(selection.indexOf(selectedCard.getAttribute('data-id')), 1);\n    }\n    this.cardTabIndexRemove();\n    var cards = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CARD_CLASS));\n    var element = action === 'firstCardSelection' ? cards[0] : cards[cards.length - 1];\n    this.parent.actionModule.cardSelection(element, false, false);\n    this.addRemoveTabIndex('Remove');\n    element.focus();\n    var card = [].slice.call(closest(element, '.' + cls.CONTENT_CELLS_CLASS).querySelectorAll('.' + cls.CARD_CLASS));\n    card.forEach(function (element) {\n      element.setAttribute('tabindex', '0');\n    });\n  };\n  Keyboard.prototype.processLeftRightArrow = function (e) {\n    if (document.activeElement.classList.contains(cls.CONTENT_CELLS_CLASS)) {\n      if (e.action === 'rightArrow' && document.activeElement.nextElementSibling) {\n        document.activeElement.nextElementSibling.focus();\n      } else if (e.action === 'leftArrow' && document.activeElement.previousElementSibling) {\n        document.activeElement.previousElementSibling.focus();\n      }\n    }\n  };\n  Keyboard.prototype.processUpDownArrow = function (action, selectedCard) {\n    if (action === 'upArrow' && document.activeElement) {\n      if (document.activeElement.classList.contains(cls.CARD_CLASS) && document.activeElement.previousElementSibling) {\n        document.activeElement.previousElementSibling.focus();\n      } else if (document.activeElement.classList.contains(cls.SHOW_ADD_BUTTON)) {\n        document.activeElement.setAttribute('tabindex', '-1');\n        removeClass([document.activeElement], cls.SHOW_ADD_FOCUS);\n        var cell = closest(document.activeElement, '.' + cls.CONTENT_CELLS_CLASS);\n        if (cell.querySelectorAll('.' + cls.CARD_CLASS).length > 0) {\n          [].slice.call(cell.querySelectorAll('.' + cls.CARD_CLASS)).slice(-1)[0].focus();\n        }\n      }\n      this.removeSelection();\n    } else if (action === 'downArrow' && document.activeElement && document.activeElement.classList.contains(cls.CARD_CLASS)) {\n      if (document.activeElement.nextElementSibling) {\n        document.activeElement.nextElementSibling.focus();\n      } else if (closest(document.activeElement, '.' + cls.CARD_WRAPPER_CLASS).nextElementSibling) {\n        var ele = closest(document.activeElement, '.' + cls.CARD_WRAPPER_CLASS).nextElementSibling;\n        ele.setAttribute('tabindex', '0');\n        addClass([ele], cls.SHOW_ADD_FOCUS);\n        ele.focus();\n      }\n      this.removeSelection();\n    }\n    if ((action === 'multiSelectionByUpArrow' || action === 'multiSelectionByDownArrow') && selectedCard && this.parent.cardSettings.selectionType === 'Multiple') {\n      var card = void 0;\n      if (action === 'multiSelectionByUpArrow') {\n        card = document.activeElement.previousElementSibling;\n      } else {\n        card = document.activeElement.nextElementSibling;\n      }\n      if (card) {\n        this.parent.actionModule.cardSelection(card, false, true);\n        card.focus();\n        this.multiSelection = true;\n      }\n    }\n  };\n  Keyboard.prototype.removeSelection = function () {\n    if (this.multiSelection) {\n      var cards = this.parent.getSelectedCards();\n      if (cards.length > 0) {\n        removeClass(cards, cls.CARD_SELECTION_CLASS);\n        this.parent.layoutModule.disableAttributeSelection(cards);\n      }\n      this.multiSelection = false;\n    }\n  };\n  Keyboard.prototype.cardTabIndexRemove = function () {\n    var cards = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CARD_CLASS));\n    cards.forEach(function (card) {\n      card.setAttribute('tabindex', '-1');\n    });\n    var addButton = [].slice.call(this.parent.element.querySelectorAll('.' + cls.SHOW_ADD_BUTTON));\n    addButton.forEach(function (add) {\n      add.setAttribute('tabindex', '-1');\n      removeClass([add], cls.SHOW_ADD_FOCUS);\n    });\n  };\n  Keyboard.prototype.processEnter = function (e, selectedCard) {\n    if (e.action === 'space') {\n      e.preventDefault();\n    }\n    var element = e.target;\n    if (element.classList.contains(cls.HEADER_ICON_CLASS)) {\n      this.parent.actionModule.columnExpandCollapse(e);\n    }\n    if (element.classList.contains(cls.SWIMLANE_ROW_EXPAND_CLASS) || element.classList.contains(cls.SWIMLANE_ROW_COLLAPSE_CLASS)) {\n      this.parent.actionModule.rowExpandCollapse(e);\n    }\n    if (document.activeElement.classList.contains(cls.CARD_CLASS)) {\n      this.parent.actionModule.cardSelection(document.activeElement, false, false);\n    }\n    if (document.activeElement.classList.contains(cls.SHOW_ADD_BUTTON)) {\n      if (!this.parent.dialogModule.dialogObj) {\n        this.parent.actionModule.addButtonClick(document.activeElement);\n      }\n      document.activeElement.focus();\n    }\n    if (element.classList.contains(cls.CONTENT_CELLS_CLASS)) {\n      var cards = [].slice.call(element.querySelectorAll('.' + cls.CARD_CLASS));\n      this.addRemoveTabIndex('Remove');\n      if (cards.length > 0) {\n        element.querySelector('.' + cls.CARD_CLASS).focus();\n        cards.forEach(function (element) {\n          element.setAttribute('tabindex', '0');\n        });\n      }\n      if (element.querySelector('.' + cls.SHOW_ADD_BUTTON)) {\n        element.querySelector('.' + cls.SHOW_ADD_BUTTON).setAttribute('tabindex', '0');\n        element.querySelector('.' + cls.SHOW_ADD_BUTTON).focus();\n      }\n    }\n    if (selectedCard === document.activeElement && this.parent.element.querySelectorAll('.' + cls.CARD_SELECTION_CLASS).length === 1) {\n      this.parent.activeCardData = {\n        data: this.parent.getCardDetails(selectedCard),\n        element: selectedCard\n      };\n      if (!this.parent.dialogModule.dialogObj) {\n        this.parent.dialogModule.openDialog('Edit', this.parent.getCardDetails(selectedCard));\n      }\n      selectedCard.focus();\n    }\n  };\n  Keyboard.prototype.addRemoveTabIndex = function (action) {\n    var attribute = action === 'Add' ? '0' : '-1';\n    var headerIcon = [].slice.call(this.parent.element.querySelectorAll('.' + cls.HEADER_ICON_CLASS));\n    if (headerIcon.length > 0) {\n      headerIcon.forEach(function (element) {\n        element.setAttribute('tabindex', attribute);\n      });\n    }\n    var swimlaneIcon = [].slice.call(this.parent.element.querySelectorAll('.' + cls.SWIMLANE_ROW_EXPAND_CLASS));\n    if (swimlaneIcon.length > 0) {\n      swimlaneIcon.forEach(function (element) {\n        element.setAttribute('tabindex', attribute);\n      });\n    }\n    var className = '.' + cls.CONTENT_ROW_CLASS + ':not(.' + cls.SWIMLANE_ROW_CLASS + ') .' + cls.CONTENT_CELLS_CLASS;\n    var contentCell = [].slice.call(this.parent.element.querySelectorAll(className));\n    contentCell.forEach(function (element) {\n      element.setAttribute('tabindex', attribute);\n    });\n  };\n  Keyboard.prototype.destroy = function () {\n    this.keyboardModule.destroy();\n  };\n  return Keyboard;\n}();\nexport { Keyboard };","map":{"version":3,"names":["KeyboardEvents","addClass","removeClass","closest","cls","Keyboard","parent","keyConfigs","firstCardSelection","lastCardSelection","upArrow","downArrow","rightArrow","leftArrow","multiSelectionEnter","multiSelectionSpace","multiSelectionByUpArrow","multiSelectionByDownArrow","shiftTab","enter","tab","delete","escape","space","element","tabIndex","keyboardModule","keyAction","keyActionHandler","bind","eventName","multiSelection","prototype","e","_this","selectedCard","querySelectorAll","CARD_CLASS","CARD_SELECTION_CLASS","item","document","activeElement","ROOT_CLASS","contentCell","selectedCards","selectedCardsData","action","preventDefault","processUpDownArrow","processLeftRightArrow","processCardSelection","actionModule","cardSelection","processEnter","classList","contains","SHOW_ADD_BUTTON","focus","ele","CONTENT_CELLS_CLASS","cards","slice","call","cardTabIndexRemove","addRemoveTabIndex","nextElementSibling","previousElementSibling","querySelector","SHOW_ADD_FOCUS","forEach","selected","push","getCardDetails","crudModule","deleteCard","layoutModule","disableAttributeSelection","selection","selectionArray","splice","indexOf","getAttribute","length","card","setAttribute","cell","removeSelection","CARD_WRAPPER_CLASS","cardSettings","selectionType","getSelectedCards","addButton","add","target","HEADER_ICON_CLASS","columnExpandCollapse","SWIMLANE_ROW_EXPAND_CLASS","SWIMLANE_ROW_COLLAPSE_CLASS","rowExpandCollapse","dialogModule","dialogObj","addButtonClick","activeCardData","data","openDialog","attribute","headerIcon","swimlaneIcon","className","CONTENT_ROW_CLASS","SWIMLANE_ROW_CLASS","destroy"],"sources":["C:/skyz-web-react-he/node_modules/@syncfusion/ej2-kanban/src/kanban/actions/keyboard.js"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { KeyboardEvents, addClass, removeClass, closest } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constant';\n/**\n * Kanban keyboard module\n */\nvar Keyboard = /** @class */ (function () {\n    /**\n     * Constructor for keyboard module\n     *\n     * @param {Kanban} parent Accepts the kanban instance\n     */\n    function Keyboard(parent) {\n        this.keyConfigs = {\n            firstCardSelection: '36',\n            lastCardSelection: '35',\n            upArrow: '38',\n            downArrow: '40',\n            rightArrow: '39',\n            leftArrow: '37',\n            multiSelectionEnter: 'ctrl+13',\n            multiSelectionSpace: 'ctrl+32',\n            multiSelectionByUpArrow: 'shift+38',\n            multiSelectionByDownArrow: 'shift+40',\n            shiftTab: 'shift+tab',\n            enter: '13',\n            tab: 'tab',\n            delete: '46',\n            escape: '27',\n            space: '32'\n        };\n        this.parent = parent;\n        this.parent.element.tabIndex = this.parent.element.tabIndex === -1 ? 0 : this.parent.element.tabIndex;\n        this.keyboardModule = new KeyboardEvents(this.parent.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        this.multiSelection = false;\n    }\n    Keyboard.prototype.keyActionHandler = function (e) {\n        var _this = this;\n        var selectedCard = this.parent.element.querySelectorAll(\".\" + cls.CARD_CLASS + \".\" + cls.CARD_SELECTION_CLASS).item(0);\n        if (!selectedCard && !closest(document.activeElement, \".\" + cls.ROOT_CLASS)) {\n            return;\n        }\n        var contentCell;\n        var selectedCards;\n        var selectedCardsData = [];\n        switch (e.action) {\n            case 'upArrow':\n            case 'downArrow':\n            case 'multiSelectionByUpArrow':\n            case 'multiSelectionByDownArrow':\n                e.preventDefault();\n                this.processUpDownArrow(e.action, selectedCard);\n                break;\n            case 'rightArrow':\n            case 'leftArrow':\n                this.processLeftRightArrow(e);\n                break;\n            case 'firstCardSelection':\n            case 'lastCardSelection':\n                this.processCardSelection(e.action, selectedCard);\n                break;\n            case 'multiSelectionEnter':\n            case 'multiSelectionSpace':\n                if (document.activeElement) {\n                    this.parent.actionModule.cardSelection(document.activeElement, true, false);\n                }\n                break;\n            case 'space':\n            case 'enter':\n                this.processEnter(e, selectedCard);\n                break;\n            case 'escape':\n                if (document.activeElement.classList.contains(cls.CARD_CLASS) ||\n                    document.activeElement.classList.contains(cls.SHOW_ADD_BUTTON)) {\n                    if (document.activeElement.classList.contains(cls.CARD_SELECTION_CLASS)) {\n                        removeClass([document.activeElement], cls.CARD_SELECTION_CLASS);\n                        document.activeElement.focus();\n                    }\n                    else {\n                        var ele = closest(document.activeElement, '.' + cls.CONTENT_CELLS_CLASS);\n                        var cards = [].slice.call(ele.querySelectorAll('.' + cls.CARD_CLASS));\n                        removeClass(cards, cls.CARD_SELECTION_CLASS);\n                        ele.focus();\n                        this.cardTabIndexRemove();\n                        this.addRemoveTabIndex('Add');\n                    }\n                }\n                break;\n            case 'tab':\n            case 'shiftTab':\n                contentCell = closest(document.activeElement, '.' + cls.CONTENT_CELLS_CLASS);\n                if (document.activeElement.classList.contains(cls.CARD_CLASS)) {\n                    if (!document.activeElement.nextElementSibling && e.action === 'tab') {\n                        e.preventDefault();\n                    }\n                    if (!document.activeElement.previousElementSibling && contentCell.querySelector('.' + cls.SHOW_ADD_BUTTON)\n                        && e.action === 'tab') {\n                        addClass([contentCell.querySelector('.' + cls.SHOW_ADD_BUTTON)], cls.SHOW_ADD_FOCUS);\n                    }\n                }\n                if (document.activeElement.classList.contains(cls.SHOW_ADD_BUTTON)) {\n                    if ((!contentCell.querySelector('.' + cls.CARD_CLASS) && e.action === 'tab') || e.action === 'shiftTab') {\n                        e.preventDefault();\n                    }\n                }\n                if (document.activeElement.classList.contains(cls.ROOT_CLASS)) {\n                    this.cardTabIndexRemove();\n                    this.parent.keyboardModule.addRemoveTabIndex('Add');\n                }\n                break;\n            case 'delete':\n                selectedCards = [].slice.call(this.parent.element.querySelectorAll(\".\" + cls.CARD_CLASS + \".\" + cls.CARD_SELECTION_CLASS));\n                selectedCards.forEach(function (selected) { selectedCardsData.push(_this.parent.getCardDetails(selected)); });\n                this.parent.crudModule.deleteCard(selectedCardsData);\n                break;\n        }\n    };\n    Keyboard.prototype.processCardSelection = function (action, selectedCard) {\n        if (selectedCard) {\n            removeClass([selectedCard], cls.CARD_SELECTION_CLASS);\n            this.parent.layoutModule.disableAttributeSelection(selectedCard);\n            var selection = this.parent.actionModule.selectionArray;\n            selection.splice(selection.indexOf(selectedCard.getAttribute('data-id')), 1);\n        }\n        this.cardTabIndexRemove();\n        var cards = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CARD_CLASS));\n        var element = action === 'firstCardSelection' ? cards[0] : cards[cards.length - 1];\n        this.parent.actionModule.cardSelection(element, false, false);\n        this.addRemoveTabIndex('Remove');\n        element.focus();\n        var card = [].slice.call(closest(element, '.' + cls.CONTENT_CELLS_CLASS).querySelectorAll('.' + cls.CARD_CLASS));\n        card.forEach(function (element) { element.setAttribute('tabindex', '0'); });\n    };\n    Keyboard.prototype.processLeftRightArrow = function (e) {\n        if (document.activeElement.classList.contains(cls.CONTENT_CELLS_CLASS)) {\n            if (e.action === 'rightArrow' && document.activeElement.nextElementSibling) {\n                document.activeElement.nextElementSibling.focus();\n            }\n            else if (e.action === 'leftArrow' && document.activeElement.previousElementSibling) {\n                document.activeElement.previousElementSibling.focus();\n            }\n        }\n    };\n    Keyboard.prototype.processUpDownArrow = function (action, selectedCard) {\n        if (action === 'upArrow' && document.activeElement) {\n            if (document.activeElement.classList.contains(cls.CARD_CLASS) && document.activeElement.previousElementSibling) {\n                document.activeElement.previousElementSibling.focus();\n            }\n            else if (document.activeElement.classList.contains(cls.SHOW_ADD_BUTTON)) {\n                document.activeElement.setAttribute('tabindex', '-1');\n                removeClass([document.activeElement], cls.SHOW_ADD_FOCUS);\n                var cell = closest(document.activeElement, '.' + cls.CONTENT_CELLS_CLASS);\n                if (cell.querySelectorAll('.' + cls.CARD_CLASS).length > 0) {\n                    [].slice.call(cell.querySelectorAll('.' + cls.CARD_CLASS)).slice(-1)[0].focus();\n                }\n            }\n            this.removeSelection();\n        }\n        else if (action === 'downArrow' && document.activeElement &&\n            document.activeElement.classList.contains(cls.CARD_CLASS)) {\n            if (document.activeElement.nextElementSibling) {\n                document.activeElement.nextElementSibling.focus();\n            }\n            else if (closest(document.activeElement, '.' + cls.CARD_WRAPPER_CLASS).nextElementSibling) {\n                var ele = closest(document.activeElement, '.' + cls.CARD_WRAPPER_CLASS).nextElementSibling;\n                ele.setAttribute('tabindex', '0');\n                addClass([ele], cls.SHOW_ADD_FOCUS);\n                ele.focus();\n            }\n            this.removeSelection();\n        }\n        if ((action === 'multiSelectionByUpArrow' || action === 'multiSelectionByDownArrow')\n            && selectedCard && this.parent.cardSettings.selectionType === 'Multiple') {\n            var card = void 0;\n            if (action === 'multiSelectionByUpArrow') {\n                card = document.activeElement.previousElementSibling;\n            }\n            else {\n                card = document.activeElement.nextElementSibling;\n            }\n            if (card) {\n                this.parent.actionModule.cardSelection(card, false, true);\n                card.focus();\n                this.multiSelection = true;\n            }\n        }\n    };\n    Keyboard.prototype.removeSelection = function () {\n        if (this.multiSelection) {\n            var cards = this.parent.getSelectedCards();\n            if (cards.length > 0) {\n                removeClass(cards, cls.CARD_SELECTION_CLASS);\n                this.parent.layoutModule.disableAttributeSelection(cards);\n            }\n            this.multiSelection = false;\n        }\n    };\n    Keyboard.prototype.cardTabIndexRemove = function () {\n        var cards = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CARD_CLASS));\n        cards.forEach(function (card) { card.setAttribute('tabindex', '-1'); });\n        var addButton = [].slice.call(this.parent.element.querySelectorAll('.' + cls.SHOW_ADD_BUTTON));\n        addButton.forEach(function (add) {\n            add.setAttribute('tabindex', '-1');\n            removeClass([add], cls.SHOW_ADD_FOCUS);\n        });\n    };\n    Keyboard.prototype.processEnter = function (e, selectedCard) {\n        if (e.action === 'space') {\n            e.preventDefault();\n        }\n        var element = (e.target);\n        if (element.classList.contains(cls.HEADER_ICON_CLASS)) {\n            this.parent.actionModule.columnExpandCollapse(e);\n        }\n        if (element.classList.contains(cls.SWIMLANE_ROW_EXPAND_CLASS) || element.classList.contains(cls.SWIMLANE_ROW_COLLAPSE_CLASS)) {\n            this.parent.actionModule.rowExpandCollapse(e);\n        }\n        if (document.activeElement.classList.contains(cls.CARD_CLASS)) {\n            this.parent.actionModule.cardSelection(document.activeElement, false, false);\n        }\n        if (document.activeElement.classList.contains(cls.SHOW_ADD_BUTTON)) {\n            if (!this.parent.dialogModule.dialogObj) {\n                this.parent.actionModule.addButtonClick(document.activeElement);\n            }\n            document.activeElement.focus();\n        }\n        if (element.classList.contains(cls.CONTENT_CELLS_CLASS)) {\n            var cards = [].slice.call(element.querySelectorAll('.' + cls.CARD_CLASS));\n            this.addRemoveTabIndex('Remove');\n            if (cards.length > 0) {\n                element.querySelector('.' + cls.CARD_CLASS).focus();\n                cards.forEach(function (element) { element.setAttribute('tabindex', '0'); });\n            }\n            if (element.querySelector('.' + cls.SHOW_ADD_BUTTON)) {\n                element.querySelector('.' + cls.SHOW_ADD_BUTTON).setAttribute('tabindex', '0');\n                element.querySelector('.' + cls.SHOW_ADD_BUTTON).focus();\n            }\n        }\n        if (selectedCard === document.activeElement && this.parent.element.querySelectorAll('.' + cls.CARD_SELECTION_CLASS).length === 1) {\n            this.parent.activeCardData = {\n                data: this.parent.getCardDetails(selectedCard), element: selectedCard\n            };\n            if (!this.parent.dialogModule.dialogObj) {\n                this.parent.dialogModule.openDialog('Edit', this.parent.getCardDetails(selectedCard));\n            }\n            selectedCard.focus();\n        }\n    };\n    Keyboard.prototype.addRemoveTabIndex = function (action) {\n        var attribute = action === 'Add' ? '0' : '-1';\n        var headerIcon = [].slice.call(this.parent.element.querySelectorAll('.' + cls.HEADER_ICON_CLASS));\n        if (headerIcon.length > 0) {\n            headerIcon.forEach(function (element) { element.setAttribute('tabindex', attribute); });\n        }\n        var swimlaneIcon = [].slice.call(this.parent.element.querySelectorAll('.' + cls.SWIMLANE_ROW_EXPAND_CLASS));\n        if (swimlaneIcon.length > 0) {\n            swimlaneIcon.forEach(function (element) { element.setAttribute('tabindex', attribute); });\n        }\n        var className = '.' + cls.CONTENT_ROW_CLASS + ':not(.' + cls.SWIMLANE_ROW_CLASS + ') .' + cls.CONTENT_CELLS_CLASS;\n        var contentCell = [].slice.call(this.parent.element.querySelectorAll(className));\n        contentCell.forEach(function (element) { element.setAttribute('tabindex', attribute); });\n    };\n    Keyboard.prototype.destroy = function () {\n        this.keyboardModule.destroy();\n    };\n    return Keyboard;\n}());\nexport { Keyboard };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}